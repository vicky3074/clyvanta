name: ğŸ” Reveal Server IP

on:
  workflow_dispatch:

jobs:
  reveal:
    runs-on: ubuntu-latest
    environment: production
    
    steps:
    - name: Show Server IP
      run: |
        echo "ğŸ” Current server IP from GitHub secrets:"
        echo "Server IP: ${{ secrets.DROPLET_IP }}"
        
        echo "ğŸŒ Testing connectivity to this IP:"
        ping -c 2 ${{ secrets.DROPLET_IP }} || echo "Ping failed (normal)"
        
        echo "ğŸ”‘ SSH port check:"
        nc -zv ${{ secrets.DROPLET_IP }} 22 && echo "âœ… SSH accessible"